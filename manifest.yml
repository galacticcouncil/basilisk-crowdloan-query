version: '4.0'
description: dot-cl-query-node
repository: https://github.com/
hydraVersion: "5"

typegen:
  metadata:
    source: wss://rpc.polkadot.io/
  events:
    - crowdloan.Contributed
    - auctions.BidAccepted
    - auctions.AuctionClosed
    - auctions.AuctionStarted
    - slots.Leased
  calls:
    - timestamp.set
  outDir: src/types

mappings:
  mappingsModule: lib/mappings


  # dot crowdloan start
  range: '[ 7567797, )'


  # events handled by the processor
  eventHandlers:
    - event: crowdloan.Contributed
      handler: handleCrowdloanContributed
    - event: auctions.BidAccepted
      handler: handleAuctionBidAccepted
    - event: slots.Leased
      handler: handleSlotsLeased
    - event: auctions.AuctionClosed
      handler: handleAuctionClosed
    - event: auctions.AuctionStarted
      handler: handleAuctionStarted
  extrinsicHandlers:
  preBlockHooks:
    - handler: handlePreBlockGenesis
      filter:
        # production range
        height: '[7567797, 7567797]'

  postBlockHooks:
    - handler: handlePostBlock